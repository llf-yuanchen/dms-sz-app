(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["element-detail"],{"0934":function(t,e,n){"use strict";n("776a")},"776a":function(t,e,n){},8418:function(t,e,n){"use strict";var a=n("c04e"),i=n("9bf2"),o=n("5c6c");t.exports=function(t,e,n){var c=a(e);c in t?i.f(t,c,o(0,n)):t[c]=n}},"8c31":function(t,e,n){"use strict";n.r(e);n("b0c0");var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mui-content",attrs:{id:"app"}},[n("header",{staticClass:"mui-bar mui-bar-nav"},[n("a",{staticClass:"mui-action-back mui-icon mui-icon-left-nav mui-pull-left"}),n("h1",{staticClass:"mui-title"},[t._v("详细信息")]),n("a",{staticClass:"mui-icon mui-icon-paperplane mui-pull-right",on:{tap:t.callNav}})]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.info,expression:"info"}],staticClass:"mui-content",staticStyle:{overflow:"auto",height:"100%"}},[n("div",{staticClass:"mui-card"},[n("div",{staticClass:"mui-card-content"},[n("div",{staticClass:"mui-input-group"},t._l(t.info,(function(e,a){return n("div",{key:a,staticClass:"mui-input-row"},[n("label",{staticClass:"field-name"},[t._v(t._s(e.fieldName))]),n("field-value",{staticClass:"field-value",attrs:{data:e}})],1)})),0)])])]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.navShow,expression:"navShow"}],staticClass:"navPopover"},[n("ul",{staticClass:"mui-table-view",staticStyle:{width:"18rem"}},t._l(t.navPackages,(function(e){return n("li",{key:e.key,staticClass:"mui-table-view-cell",on:{tap:function(n){return t.callNavPackage(n,e)}}},[t._v(" "+t._s(e.name)+" ")])})),0)]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.navShow,expression:"navShow"}],staticClass:"nav-mask",on:{tap:t.callNav}})])},i=[],o=(n("99af"),n("b775")),c=n("fc4b"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],staticClass:"field-value",attrs:{type:"text",readonly:""},domProps:{value:t.value},on:{input:function(e){e.target.composing||(t.value=e.target.value)}}})},s=[],u={name:"field-value",props:{data:{type:Object}},data:function(){return{}},computed:{value:function(){return this.data?"".concat(this.data.fieldValue).concat(this.data.fieldUnit):""}}},l=u,d=n("2877"),f=Object(d["a"])(l,r,s,!1,null,"10d6b78f",null),p=f.exports,v={name:"element-detail",components:{FieldValue:p},data:function(){return{dataObjectId:null,objCode:null,centerX:null,centerY:null,info:null,navPackages:[],navShow:!1}},watch:{$route:{immediate:!0,handler:"initParams"}},mounted:function(){var t=this;this.$nextTick((function(){mui.init({beforeback:function(){return!0}}),t.navPackages=t.getNavPackages()}))},methods:{initParams:function(t){var e=t.params;this.dataObjectId=e.dataObjectId,this.objCode=e.objCode,this.centerX=e.centerX,this.centerY=e.centerY,this.initInfo()},initInfo:function(){var t=this;Object(o["g"])(o["a"],{dataObjectId:this.dataObjectId,objCode:this.objCode}).then((function(e){console.log(e),e.success&&(t.info=e.data.items)}))},callNav:function(){this.navShow=!this.navShow},getNavPackages:function(){var t=[{name:"高德地图",key:"amap",appInf:{pname:"com.autonavi.minimap"}},{name:"百度地图",key:"bdmap",appInf:{pname:"com.baidu.BaiduMap"}}];return t},callNavPackage:function(t,e){var n=this;c["a"].getInstance().getLocation().then((function(t){var a="";"amap"===e.key?a="androidamap://navi?sourceApplication=appname&lat=".concat(n.centerY,"&lon=").concat(n.centerX,"&dev=1&style=2"):"bdmap"===e.key&&(a="baidumap://map/direction?origin=name:我的位置|latlng:".concat(t[0],",").concat(t[1],"&destination=").concat(n.centerY,",").concat(n.centerX,"&coord_type=wgs84&mode=driving")),window.open(a),n.callNav()})).catch((function(t){var a="";"amap"===e.key?a="androidamap://navi?sourceApplication=appname&lat=".concat(n.centerY,"&lon=").concat(n.centerX,"&dev=1&style=2"):"bdmap"===e.key&&(a="baidumap://map/direction?destination=".concat(n.centerY,",").concat(n.centerX,"&coord_type=wgs84&mode=driving")),window.open(a),n.callNav()}))}}},m=v,h=(n("0934"),Object(d["a"])(m,a,i,!1,null,"66c6b422",null)),b=h.exports;b.install=function(t){t.component(b.name,b)};e["default"]=b},"99af":function(t,e,n){"use strict";var a=n("23e7"),i=n("d039"),o=n("e8b5"),c=n("861d"),r=n("7b0b"),s=n("50c4"),u=n("8418"),l=n("65f0"),d=n("1dde"),f=n("b622"),p=n("2d00"),v=f("isConcatSpreadable"),m=9007199254740991,h="Maximum allowed index exceeded",b=p>=51||!i((function(){var t=[];return t[v]=!1,t.concat()[0]!==t})),g=d("concat"),w=function(t){if(!c(t))return!1;var e=t[v];return void 0!==e?!!e:o(t)},y=!b||!g;a({target:"Array",proto:!0,forced:y},{concat:function(t){var e,n,a,i,o,c=r(this),d=l(c,0),f=0;for(e=-1,a=arguments.length;e<a;e++)if(o=-1===e?c:arguments[e],w(o)){if(i=s(o.length),f+i>m)throw TypeError(h);for(n=0;n<i;n++,f++)n in o&&u(d,f,o[n])}else{if(f>=m)throw TypeError(h);u(d,f++,o)}return d.length=f,d}})},b0c0:function(t,e,n){var a=n("83ab"),i=n("9bf2").f,o=Function.prototype,c=o.toString,r=/^\s*function ([^ (]*)/,s="name";a&&!(s in o)&&i(o,s,{configurable:!0,get:function(){try{return c.call(this).match(r)[1]}catch(t){return""}}})},b775:function(t,e,n){"use strict";n.d(e,"f",(function(){return i})),n.d(e,"e",(function(){return o})),n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return r})),n.d(e,"d",(function(){return s})),n.d(e,"c",(function(){return u})),n.d(e,"g",(function(){return l}));n("d3b7");var a="https://10.253.190.55:8085/dms-app",i="/basic/getCatalogLayerList",o="/basic/getAllCatalogList",c="/att/query/list",r="/att/query/detail",s="/att/statistics/elementStatistic",u="/att/statistics/administrativeStatistic";function l(t,e){return console.log("请求参数:",JSON.stringify(e)),new Promise((function(n,i){mui.ajax("".concat(a).concat(t),{data:e,headers:{"Content-Type":"application/json;charset=UTF-8"},dataType:"json",type:"post",timeout:1e4,success:function(t){n(t)},error:function(t,e,n){if(t.response&&""!==t.response){var a=JSON.parse(t.response);a.msg?i(new Error(a.msg)):mui.alert("查询失败")}else mui.alert("查询失败")}})}))}},bee2:function(t,e,n){"use strict";function a(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function i(t,e,n){return e&&a(t.prototype,e),n&&a(t,n),t}n.d(e,"a",(function(){return i}))},d4ec:function(t,e,n){"use strict";function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",(function(){return a}))},fc4b:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));n("d3b7");var a=n("d4ec"),i=n("bee2"),o=n("f287"),c=n.n(o),r=function(){function t(e){Object(a["a"])(this,t),e=e||{},this.isApp=e.isApp,this.projection=e.projection||"EPSG:4326",this.geolocation=e.isApp?plus.geolocation:new c.a({projection:this.projection}),this.isApp||this.geolocation.on("error",(function(t){console.log(t)}))}return Object(i["a"])(t,[{key:"getLocation",value:function(){var t=this;return new Promise((function(e,n){try{if(t.isApp)t.geolocation.getCurrentPosition((function(t){var n=[t.coords.longitude,t.coords.latitude];e(n)}),(function(e){var a=t.defaultAppErrorFunction(e);n({message:a})}),{enableHighAccuracy:!0,timeout:6e4,provider:"system",coordsType:"wgs84"});else{var a=t.geolocation.getPosition();a||n({message:"无法获取用户位置信息"}),e(a)}}catch(i){n(i)}}))}},{key:"defaultAppErrorFunction",value:function(t){var e="获取用户位置的请求超时";switch(t.code){case 1:e="GPS访问被拒绝 或 GPS未开启";break;case 2:e="位置信息不可用";break;case 3:e="获取用户位置的请求超时";break;default:e=t.message;break}return e}}],[{key:"getInstance",value:function(){return this.instance||(this.instance=new t({projection:"EPSG:4326",isApp:!1})),this.instance}}]),t}()}}]);